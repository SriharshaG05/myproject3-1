<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Food Management System</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/home-style.css">
  <link rel="stylesheet" href="/css/mobile-responsive.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      background: white !important;
      font-family: 'Poppins', sans-serif;
    }

    .simple-header {
      background: white;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      padding: 20px 0;
    }

    .nav-right {
      display: flex;
      gap: 30px;
      justify-content: flex-end;
      align-items: center;
    }

    .nav-link {
      color: #333;
      text-decoration: none;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    .nav-link:hover {
      background: rgba(76, 175, 80, 0.1);
      color: #4CAF50;
    }

    .nav-link.active {
      background: #4CAF50;
      color: white;
    }

    .main-title-section {
      padding: 60px 0;
      text-align: center;
      background: white;
    }

    .main-title {
      font-size: 3.5rem;
      font-weight: 700;
      color: #2C3E50;
      margin: 0;
    }

    .quote-section {
      padding: 40px 0;
      background: #f8f9fa;
      text-align: center;
    }

    .main-quote {
      font-size: 1.8rem;
      font-style: italic;
      color: #4CAF50;
      margin: 0;
      font-weight: 300;
      max-width: 800px;
      margin: 0 auto;
    }

    .marquee-section {
      padding: 40px 0;
      background: white;
      overflow: hidden;
    }

    .marquee-container {
      width: 100%;
      overflow: hidden;
    }

    .marquee-content {
      display: flex;
      animation: marquee 20s linear infinite;
      gap: 20px;
    }

    .marquee-content img {
      width: 300px;
      height: 200px;
      object-fit: cover;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      flex-shrink: 0;
    }

    @keyframes marquee {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    .about-us-section {
      padding: 80px 0;
      background: white;
    }

    .about-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      align-items: center;
    }

    .about-text {
      padding: 20px 0;
    }

    .about-description {
      font-size: 1.1rem;
      line-height: 1.8;
      color: #6C757D;
      margin-bottom: 20px;
    }

    .about-stats {
      display: flex;
      gap: 40px;
      margin-top: 30px;
    }

    .stat-item {
      text-align: center;
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: 700;
      color: #4CAF50;
      display: block;
    }

    .stat-label {
      font-size: 1rem;
      color: #6C757D;
      font-weight: 500;
    }

    .about-image img {
      width: 100%;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    /* Compact contact section styles - reduced padding, narrower form */
    .contact-us-section {
      padding: 40px 0; /* reduced vertical space */
      background: #000;
      color: white;
    }

    .contact-us-section .section-title {
      color: white;
    }

    .contact-content {
      display: grid;
      grid-template-columns: 1fr 420px; /* constrain form width */
      gap: 30px; /* smaller gap between columns */
      align-items: start;
    }

    .contact-info {
      display: flex;
      flex-direction: column;
      gap: 18px; /* tighter spacing */
    }

    .contact-item {
      display: flex;
      gap: 20px;
      align-items: flex-start;
    }

    .contact-icon {
      font-size: 1.6rem; /* slightly smaller icons */
      flex-shrink: 0;
      width: 42px;
      height: 42px;
      display: grid;
      place-items: center;
      background: rgba(255,255,255,0.05);
      border-radius: 8px;
    }

    .contact-item h4 {
      font-size: 1.2rem;
      margin-bottom: 8px;
      color: white;
    }

    .contact-item p {
      color: #ccc;
      line-height: 1.6;
    }

    .contact-form-wrapper {
      background: rgba(255, 255, 255, 0.04);
      padding: 20px; /* reduced padding */
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.06);
      max-width: 100%;
    }

    .contact-form .form-group label {
      color: white;
    }

    .contact-form input,
    .contact-form textarea {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
    }

    /* keep inputs slightly more compact */
    .contact-form input,
    .contact-form textarea {
      padding: 12px 14px;
      font-size: 0.95rem;
    }

    .contact-form input::placeholder,
    .contact-form textarea::placeholder {
      color: rgba(255, 255, 255, 0.7);
    }

    .contact-form input:focus,
    .contact-form textarea:focus {
      border-color: #4CAF50;
      background: rgba(255, 255, 255, 0.15);
    }

    @media (max-width: 768px) {
      .nav-right {
        gap: 15px;
      }

      .nav-link {
        padding: 6px 12px;
        font-size: 0.9rem;
      }

      .main-title {
        font-size: 2.5rem;
      }

      .main-quote {
        font-size: 1.4rem;
      }

      .marquee-content img {
        width: 250px;
        height: 150px;
      }

      .about-content,
      .contact-content {
        grid-template-columns: 1fr;
        gap: 40px;
      }

      .about-stats {
        flex-direction: column;
        gap: 20px;
      }

      .contact-form-wrapper {
        padding: 10px 20px;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="simple-header">
    <div class="container">
      <div class="nav-right">
        <a href="/" class="nav-link active">Home</a>
        <a href="/login" class="nav-link">Login</a>
        <a href="/about" class="nav-link">About Us</a>
        <a href="#contact" class="nav-link">Contact Us</a>
      </div>
    </div>
  </header>

  <!-- Main Title -->
  <section class="main-title-section">
    <div class="container">
      <h1 class="main-title">Food Management System</h1>
    </div>
  </section>

  <!-- Quote Section -->
  <section class="quote-section">
    <div class="container">
      <blockquote class="main-quote">
        "Sharing Surplus, Serving Hope - Every plate shared is a story continued"
      </blockquote>
    </div>
  </section>

  <!-- Marquee Images Section -->
  <section class="marquee-section">
    <div class="marquee-container">
      <div class="marquee-content">
        <img src="/images/2.jpg.jpg" alt="Food sharing">
        <img src="/images/2.jpg.jpg" alt="Community meal">
        <img src="/images/1.jpg.jpg" alt="Food donation">
        <img src="/images/1.jpg.jpg" alt="Helping hands">
        <img src="/images/2.jpg.jpg" alt="Food sharing">
        <img src="/images/1.jpg.jpg" alt="Community meal">
        <img src="/images/2.jpg.jpg" alt="Food donation">
        <img src="/images/1.jpg.jpg" alt="Helping hands">
      </div>
    </div>
  </section>

  <!-- About Us Section -->
  <section class="about-us-section">
    <div class="container">
      <h2 class="section-title center">About Us</h2>
      <div class="about-content">
        <div class="about-text">
          <p class="about-description">
            We bridge abundance and need â€” connecting those with extra food to those who need it.
            Our platform makes it simple for restaurants, hotels, and individuals to donate surplus food,
            while helping those in need find nutritious meals nearby.
          </p>
          <p class="about-description">
            Every day, tons of food goes to waste while millions go hungry. We're changing that narrative,
            one meal at a time. Join our community of compassionate donors and grateful receivers.
          </p>
          <div class="about-stats">
            <div class="stat-item">
              <span class="stat-number">12,500+</span>
              <span class="stat-label">Meals Shared</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">850+</span>
              <span class="stat-label">Active Donors</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">3,200+</span>
              <span class="stat-label">Receivers Helped</span>
            </div>
          </div>
        </div>
        <div class="about-image">
          <img src="https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?w=500&h=400&fit=crop" alt="Community food sharing">
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Us Section -->
  <section id="contact" class="contact-us-section">
    <div class="container">
      <h2 class="section-title center">Contact Us</h2>
      <div class="contact-content">
        <div class="contact-info">
          <div class="contact-item">
            <div class="contact-icon">ðŸ“§</div>
            <div>
              <h4>Email Us</h4>
              <p>hello@foodshare.org</p>
              <p>support@foodshare.org</p>
            </div>
          </div>
        </div>
        <div class="contact-form-wrapper">
          <form class="contact-form" id="contactForm">
            <div class="form-group">
              <label for="name">Your Name</label>
              <input type="text" id="name" name="name" required placeholder="John Doe">
            </div>
            <div class="form-group">
              <label for="email">Your Email</label>
              <input type="email" id="email" name="email" required placeholder="your@email.com">
            </div>
            <div class="form-group">
              <label for="subject">Subject</label>
              <input type="text" id="subject" name="subject" required placeholder="Short subject (e.g. Donation inquiry)">
            </div>
            <div class="form-group">
              <label for="message">Message</label>
              <textarea id="message" name="message" rows="5" required placeholder="Tell us more..."></textarea>
            </div>
            <button type="submit" class="btn btn-primary btn-full">Send Message</button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <script>
    // Contact form submission
    document.getElementById('contactForm').addEventListener('submit', async function(e) {
      e.preventDefault();

      const submitBtn = this.querySelector('button[type="submit"]');
      const originalText = submitBtn.textContent;

      // Show loading state
      submitBtn.textContent = 'Sending...';
      submitBtn.disabled = true;

      const formData = {
        name: document.getElementById('name').value.trim(),
        email: document.getElementById('email').value.trim(),
        subject: document.getElementById('subject').value.trim(),
        message: document.getElementById('message').value.trim()
      };

      try {
        const response = await fetch('/contact', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(formData)
        });

        const result = await response.json();

        if (result.success) {
          // Success
          alert(result.message);
          this.reset();
        } else {
          // Validation errors or server error
          if (result.errors && result.errors.length > 0) {
            alert('Please fix the following errors:\n' + result.errors.join('\n'));
          } else {
            alert(result.message || 'An error occurred. Please try again.');
          }
        }
      } catch (error) {
        console.error('Error submitting form:', error);
        alert('Network error. Please check your connection and try again.');
      } finally {
        // Reset button state
        submitBtn.textContent = originalText;
        submitBtn.disabled = false;
      }
    });

    // Smooth scroll for internal links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth' });
        }
      });
    });
  </script>
  <script>
    // Safety: remove any leftover modal overlays and ensure contact inputs are enabled
    (function() {
      function enableContactForm() {
        // Remove any global modal that may be blocking interactions
        const modal = document.querySelector('.modal');
        if (modal) modal.remove();

        // Re-enable form fields in case they were left disabled
        const fields = document.querySelectorAll('#contactForm input, #contactForm textarea, #contactForm button');
        fields.forEach(f => {
          try {
            f.disabled = false;
            f.readOnly = false;
            f.tabIndex = 0;
          } catch (e) {}
        });
      }

      // Run once on load
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', enableContactForm);
      } else {
        enableContactForm();
      }

      // Also run if user clicks anywhere (useful if an overlay is removed later)
      document.addEventListener('click', enableContactForm);
    })();
  </script>
</body>
</html>